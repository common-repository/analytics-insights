"use strict";if(aiwpItemData.mapsApiKey){google.charts.load("current",{mapsApiKey:aiwpItemData.mapsApiKey,packages:["corechart","table","orgchart","geochart","controls"]})}else{google.charts.load("current",{packages:["corechart","table","orgchart","geochart","controls"]})}google.charts.setOnLoadCallback(AIWPReportLoad);aiwpItemData.getID=function(a){if(aiwpItemData.scope=="admin-item"){if(typeof a.id=="undefined"){return 0}if(a.id.split("-")[1]=="undefined"){return 0}else{return a.id.split("-")[1]}}else{if(typeof a.id=="undefined"){return 1}if(a.id.split("-")[4]=="undefined"){return 1}else{return a.id.split("-")[4]}}};aiwpItemData.getSelector=function(a){if(a=="admin-item"){return'a[id^="aiwp-"]'}else{return'li[id^="wp-admin-bar-aiwp"] a'}};aiwpItemData.responsiveDialog=function(){var b,a,c;c=jQuery(".ui-dialog:visible");c.each(function(){b=jQuery(this).find(".ui-dialog-content").data("ui-dialog");if(b.options.fluid){a=jQuery(window).width();if(a<(parseInt(b.options.maxWidth)+50)){jQuery(this).css("max-width","90%")}else{jQuery(this).css("max-width",b.options.maxWidth+"px")}b.option("position",b.options.position)}})};jQuery.fn.extend({aiwpItemReport:function(g){var a,d,h,e,f,i,c,b="-"+g;d={setCookie:function(k,m){var j,l=new Date();if(aiwpItemData.scope=="admin-widgets"){k="aiwp_wg_"+k}else{k="aiwp_ir_"+k}l.setTime(l.getTime()+(24*60*60*1000*365));j="expires="+l.toUTCString();document.cookie=k+"="+m+"; "+j+"; path=/"},getCookie:function(j){var l,m,n,k=0;if(aiwpItemData.scope=="admin-widgets"){j="aiwp_wg_"+j+"="}else{j="aiwp_ir_"+j+"="}m=document.cookie.split(";");for(k=0;k<m.length;k++){l=m[k];while(l.charAt(0)==" "){l=l.substring(1)}if(l.indexOf(j)==0){return l.substring(j.length,l.length)}}return false},escape:function(j){div=document.createElement("div");div.appendChild(document.createTextNode(j));return div.innerHTML},isNumeric:function(j){return !isNaN(parseFloat(j))&&isFinite(j)}};h={addOptions:function(o,n){var j,l,m,k=[];if(!d.getCookie("default_metric")||!d.getCookie("default_dimension")||!d.getCookie("default_swmetric")){j="sessions";l="30daysAgo";if(aiwpItemData.scope=="front-item"||aiwpItemData.scope=="admin-item"){c="pageviews"}else{c="sessions"}d.setCookie("default_metric",j);d.setCookie("default_dimension",l);d.setCookie("default_swmetric",c)}else{j=d.getCookie("default_metric");l=d.getCookie("default_dimension");m=d.getCookie("default_view");c=d.getCookie("default_swmetric")}if(n==false){if(aiwpItemData.scope=="front-item"||aiwpItemData.scope=="admin-item"){k=""}else{k='<span id="aiwp-swmetric-sessions" title="'+aiwpItemData.i18n[5]+'" class="dashicons dashicons-clock" style="font-size:22px;padding:4px;"></span>'}k+='<span id="aiwp-swmetric-users" title="'+aiwpItemData.i18n[6]+'" class="dashicons dashicons-admin-users" style="font-size:22px;padding:4px;"></span>';k+='<span id="aiwp-swmetric-pageviews" title="'+aiwpItemData.i18n[7]+'" class="dashicons dashicons-admin-page" style="font-size:22px;padding:4px;"></span>';jQuery(o).html(k);jQuery("#aiwp-swmetric-"+c).css("color","#008ec2")}else{jQuery.each(n,function(p,q){if(p==j||p==l||p==m){k.push('<option value="'+p+'" selected="selected">'+q+"</option>")}else{k.push('<option value="'+p+'">'+q+"</option>")}});jQuery(o).html(k.join(""))}},init:function(){var j;if(!jQuery("#aiwp-window"+b).length){return}if(jQuery("#aiwp-window"+b).html().length){return}j='<div id="aiwp-container'+b+'">';if(aiwpItemData.viewList!=false){j+='<select id="aiwp-sel-view'+b+'"></select>'}j+='<select id="aiwp-sel-period'+b+'"></select> ';j+='<select id="aiwp-sel-report'+b+'"></select>';j+='<div id="aiwp-sel-metric'+b+'" style="float:right;display:none;">';j+="</div>";j+='<div id="aiwp-progressbar'+b+'"></div>';j+='<div id="aiwp-status'+b+'"></div>';j+='<div id="aiwp-reports'+b+'"></div>';j+='<div style="text-align:right;width:100%;font-size:0.8em;clear:both;margin-right:5px;margin-top:10px;">';j+=aiwpItemData.i18n[14];j+=' <a href="https://deconf.com/analytics-insights-google-analytics-dashboard-wordpress/?utm_source=aiwp_report&utm_medium=link&utm_content=backend-reports-widget&utm_campaign=aiwp" rel="nofollow" style="text-decoration:none;font-size:1em;">Analytics Insights</a>&nbsp;';j+="</div>";j+="</div>",jQuery("#aiwp-window"+b).append(j);jQuery("#aiwp-reports"+b).css({"background-color":"#FFFFFF",height:"auto","margin-top":"0","padding-top":"0","padding-bottom":"0",color:"#3c434a","text-align":"inherit"});h.addOptions("#aiwp-sel-view"+b,aiwpItemData.viewList);h.addOptions("#aiwp-sel-period"+b,aiwpItemData.dateList);h.addOptions("#aiwp-sel-report"+b,aiwpItemData.reportList);h.addOptions("#aiwp-sel-metric"+b,false)}};e={oldViewPort:0,inProgress:0,orgChartTableChartData:"",tableChartData:"",orgChartPieChartsData:"",geoChartTableChartData:"",areaChartBottomStatsData:"",realtime:"",rtRuns:null,i18n:null,getTitle:function(j){if(j=="admin-item"){return jQuery("#aiwp"+b).attr("title")}else{if(typeof document.getElementsByTagName("title")[0]==="undefined"){return""}else{return document.getElementsByTagName("title")[0].innerHTML}}},alertMessage:function(j){jQuery("#aiwp-status"+b).css({"margin-top":"3px","padding-left":"5px",height:"auto",color:"#000","border-left":"5px solid red"});jQuery("#aiwp-status"+b).html(j)},areaChartBottomStats:function(j){var k;k='<div id="aiwp-areachartbottomstats'+b+'">';k+='<div id="aiwp-areachart'+b+'"></div>';k+='<div id="aiwp-bottomstats'+b+'">';k+='<div class="inside">';k+='<div class="small-box"><h3>'+aiwpItemData.i18n[5]+'</h3><p id="aiwpsessions'+b+'">&nbsp;</p></div>';k+='<div class="small-box"><h3>'+aiwpItemData.i18n[6]+'</h3><p id="aiwpusers'+b+'">&nbsp;</p></div>';k+='<div class="small-box"><h3>'+aiwpItemData.i18n[7]+'</h3><p id="aiwppageviews'+b+'">&nbsp;</p></div>';k+='<div class="small-box"><h3>'+aiwpItemData.i18n[8]+'</h3><p id="aiwpbouncerate'+b+'">&nbsp;</p></div>';k+='<div class="small-box"><h3>'+aiwpItemData.i18n[9]+'</h3><p id="aiwporganicsearch'+b+'">&nbsp;</p></div>';k+='<div class="small-box"><h3>'+aiwpItemData.i18n[10]+'</h3><p id="aiwppagespervisit'+b+'">&nbsp;</p></div>';k+='<div class="small-box"><h3>'+aiwpItemData.i18n[26]+'</h3><p id="aiwppagetime'+b+'">&nbsp;</p></div>';k+='<div class="small-box"><h3>'+aiwpItemData.i18n[27]+'</h3><p id="aiwppageload'+b+'">&nbsp;</p></div>';k+='<div class="small-box"><h3>'+aiwpItemData.i18n[28]+'</h3><p id="aiwpsessionduration'+b+'">&nbsp;</p></div>';k+="</div>";k+="</div>";k+="</div>";if(!jQuery("#aiwp-areachartbottomstats"+b).length){jQuery("#aiwp-reports"+b).html(k)}jQuery("#aiwp-areachart"+b).removeAttr("style");jQuery("#aiwp-bottomstats"+b).removeAttr("style");jQuery("#aiwp-sel-metric"+b).hide();e.areaChartBottomStatsData=j;if(Array.isArray(j)){if(!d.isNumeric(j[0])){if(Array.isArray(j[0])){jQuery("#aiwp-reports"+b).show();if(a.query=="visitBounceRate,bottomstats"){e.drawAreaChart(j[0],true)}else{e.drawAreaChart(j[0],false)}}else{e.throwDebug(j[0])}}else{jQuery("#aiwp-reports"+b).show();e.throwError("#aiwp-areachart"+b,j[0],"125px")}if(!d.isNumeric(j[1])){if(Array.isArray(j[1])){jQuery("#aiwp-reports"+b).show();e.drawBottomStats(j[1])}else{e.throwDebug(j[1])}}else{jQuery("#aiwp-reports"+b).show();e.throwError("#aiwp-bottomstats"+b,j[1],"40px")}}else{e.throwDebug(j)}NProgress.done()},orgChartPieCharts:function(j){var k;var l=0;k='<div id="aiwp-orgchartpiecharts'+b+'">';k+='<div id="aiwp-orgchart'+b+'"></div>';k+='<div class="aiwp-floatwraper">';k+='<div id="aiwp-piechart-1'+b+'" class="halfsize floatleft"></div>';k+='<div id="aiwp-piechart-2'+b+'" class="halfsize floatright"></div>';k+="</div>";k+='<div class="aiwp-floatwraper">';k+='<div id="aiwp-piechart-3'+b+'" class="halfsize floatleft"></div>';k+='<div id="aiwp-piechart-4'+b+'" class="halfsize floatright"></div>';k+="</div>";k+="</div>";jQuery("#aiwp-piechart-1"+b).removeAttr("style");jQuery("#aiwp-piechart-2"+b).removeAttr("style");jQuery("#aiwp-piechart-3"+b).removeAttr("style");jQuery("#aiwp-piechart-4"+b).removeAttr("style");if(!jQuery("#aiwp-orgchartpiecharts"+b).length){jQuery("#aiwp-reports"+b).html(k)}jQuery("#aiwp-sel-metric"+b).show();e.orgChartPieChartsData=j;if(Array.isArray(j)){if(!d.isNumeric(j[0])){if(Array.isArray(j[0])){jQuery("#aiwp-reports"+b).show();e.drawOrgChart(j[0])}else{e.throwDebug(j[0])}}else{jQuery("#aiwp-reports"+b).show();e.throwError("#aiwp-orgchart"+b,j[0],"125px")}for(l=1;l<j.length;l++){if(!d.isNumeric(j[l])){if(Array.isArray(j[l])){jQuery("#aiwp-reports"+b).show();e.drawPieChart("piechart-"+l,j[l],e.i18n[l])}else{e.throwDebug(j[l])}}else{jQuery("#aiwp-reports"+b).show();e.throwError("#aiwp-piechart-"+l+b,j[l],"80px")}}}else{e.throwDebug(j)}NProgress.done()},geoChartTableChart:function(j){var k;k='<div id="aiwp-geocharttablechart'+b+'">';k+='<div id="aiwp-geochart'+b+'"></div>';k+='<div id="aiwp-dashboard'+b+'">';k+='<div id="aiwp-control'+b+'"></div>';k+='<div id="aiwp-tablechart'+b+'"></div>';k+="</div>";k+="</div>";if(!jQuery("#aiwp-geocharttablechart"+b).length){jQuery("#aiwp-reports"+b).html(k)}jQuery("#aiwp-geochart"+b).removeAttr("style");jQuery("#aiwp-tablechart"+b).removeAttr("style");jQuery("#aiwp-sel-metric"+b).show();e.geoChartTableChartData=j;if(Array.isArray(j)){if(!d.isNumeric(j[0])){if(Array.isArray(j[0])){jQuery("#aiwp-reports"+b).show();e.drawGeoChart(j[0]);e.drawTableChart(j[0])}else{e.throwDebug(j[0])}}else{jQuery("#aiwp-reports"+b).show();e.throwError("#aiwp-geochart"+b,j[0],"125px");e.throwError("#aiwp-tablechart"+b,j[0],"125px")}}else{e.throwDebug(j)}NProgress.done()},orgChartTableChart:function(j){var k;k='<div id="aiwp-orgcharttablechart'+b+'">';k+='<div id="aiwp-orgchart'+b+'"></div>';k+='<div id="aiwp-dashboard'+b+'">';k+='<div id="aiwp-control'+b+'"></div>';k+='<div id="aiwp-tablechart'+b+'"></div>';k+="</div>";k+="</div>";if(!jQuery("#aiwp-orgcharttablechart"+b).length){jQuery("#aiwp-reports"+b).html(k)}jQuery("#aiwp-orgchart"+b).removeAttr("style");jQuery("#aiwp-tablechart"+b).removeAttr("style");jQuery("#aiwp-sel-metric"+b).show();e.orgChartTableChartData=j;if(Array.isArray(j)){if(!d.isNumeric(j[0])){if(Array.isArray(j[0])){jQuery("#aiwp-reports"+b).show();e.drawOrgChart(j[0])}else{e.throwDebug(j[0])}}else{jQuery("#aiwp-reports"+b).show();e.throwError("#aiwp-orgchart"+b,j[0],"125px")}if(!d.isNumeric(j[1])){if(Array.isArray(j[1])){e.drawTableChart(j[1])}else{e.throwDebug(j[1])}}else{e.throwError("#aiwp-tablechart"+b,j[1],"125px")}}else{e.throwDebug(j)}NProgress.done()},tableChart:function(j){var k;k='<div id="aiwp-404tablechart'+b+'"><br>';k+='<div id="aiwp-dashboard'+b+'">';k+='<div id="aiwp-control'+b+'"></div>';k+='<div id="aiwp-tablechart'+b+'"></div>';k+="</div>";if(!jQuery("#aiwp-404tablechart"+b).length){jQuery("#aiwp-reports"+b).html(k)}jQuery("#aiwp-404tablechart"+b).removeAttr("style");jQuery("#aiwp-tablechart"+b).removeAttr("style");jQuery("#aiwp-sel-metric"+b).show();e.tableChartData=j;if(Array.isArray(j)){if(!d.isNumeric(j[0])){if(Array.isArray(j[0])){jQuery("#aiwp-reports"+b).show();e.drawTableChart(j[0])}else{e.throwDebug(j[0])}}else{jQuery("#aiwp-reports"+b).show();e.throwError("#aiwp-tablechart"+b,j[0],"125px")}}else{e.throwDebug(j)}NProgress.done()},drawTableChart:function(n){var m,k,l,j,o,p;m=google.visualization.arrayToDataTable(n);k={page:"enable",pageSize:10,width:"100%",allowHtml:true,sortColumn:1,sortAscending:false};j=new google.visualization.Dashboard(document.getElementById("aiwp-dashboard"+b));o=new google.visualization.ControlWrapper({controlType:"StringFilter",containerId:"aiwp-control"+b,options:{filterColumnIndex:0,matchType:"any",ui:{label:"",cssClass:"aiwp-dashboard-control"}}});google.visualization.events.addListener(o,"ready",function(){jQuery(".aiwp-dashboard-control input").prop("placeholder",aiwpItemData.i18n[31])});p=new google.visualization.ChartWrapper({chartType:"Table",containerId:"aiwp-tablechart"+b,options:k});j.bind(o,p);j.draw(m);google.visualization.events.addListener(p,"select",function(){console.log(p.getDataTable().getValue(p.getChart().getSelection()[0].row,0))})},drawOrgChart:function(m){var l,j,k;l=google.visualization.arrayToDataTable(m);j={allowCollapse:true,allowHtml:true,height:"100%"};k=new google.visualization.OrgChart(document.getElementById("aiwp-orgchart"+b));k.draw(l,j)},drawPieChart:function(o,m,n){var l,j,k;l=google.visualization.arrayToDataTable(m);j={is3D:false,tooltipText:"percentage",legend:"none",chartArea:{width:"99%",height:"80%"},title:n,pieSliceText:"value",colors:aiwpItemData.colorVariations};k=new google.visualization.PieChart(document.getElementById("aiwp-"+o+b));k.draw(l,j)},drawGeoChart:function(m){var l,j,k;l=google.visualization.arrayToDataTable(m);j={chartArea:{width:"99%",height:"90%"},colors:[aiwpItemData.colorVariations[5],aiwpItemData.colorVariations[4]]};if(aiwpItemData.region){j.region=aiwpItemData.region;j.displayMode="markers";j.datalessRegionColor="EFEFEF"}k=new google.visualization.GeoChart(document.getElementById("aiwp-geochart"+b));k.draw(l,j)},drawAreaChart:function(n,o){var m,j,l,k;jQuery("#aiwp-sel-metric"+b).hide();m=google.visualization.arrayToDataTable(n);if(o){k=new google.visualization.NumberFormat({suffix:"%",fractionDigits:2});k.format(m,1)}j={legend:{position:"none"},pointSize:3,colors:[aiwpItemData.colorVariations[0],aiwpItemData.colorVariations[4]],chartArea:{width:"99%",height:"90%"},vAxis:{textPosition:"in",minValue:0},hAxis:{textPosition:"none"}};l=new google.visualization.AreaChart(document.getElementById("aiwp-areachart"+b));l.draw(m,j)},drawBottomStats:function(j){jQuery("#aiwpsessions"+b).html(j[0]);jQuery("#aiwpusers"+b).html(j[1]);jQuery("#aiwppageviews"+b).html(j[2]);jQuery("#aiwpbouncerate"+b).html(j[3]);jQuery("#aiwporganicsearch"+b).html(j[4]);jQuery("#aiwppagespervisit"+b).html(j[5]);jQuery("#aiwppagetime"+b).html(j[6]);jQuery("#aiwppageload"+b).html(j[7]);jQuery("#aiwpsessionduration"+b).html(j[8])},rtOnlyUniqueValues:function(l,k,j){return j.indexOf(l)===k},rtCountSessions:function(l,n,j){var m=0,k=0;for(k=0;k<l.rows.length;k++){if(jQuery.inArray(n,l.rows[k])>-1){m+=parseInt(l.rows[k][j])}}return m},rtGenerateTooltip:function(k){var m=0,l="",j=0;for(j=0;j<k.length;j++){m+=parseInt(k[j].count);l+="<tr><td class='aiwp-pgdetailsl'>"+k[j].value+"</td><td class='aiwp-pgdetailsr'>"+k[j].count+"</td></tr>"}if(m){return("<table>"+l+"</table>")}else{return("")}},rtPageDetails:function(y,n){var w,o,r,x=0,v=0,m=0,s=0,t=0,z=0,C=0,q=0,l=0,u="",A="",p="",k="",B="";y=y.rows;for(x=0;x<y.length;x++){if(y[x][0]==n){o=y[x][5];switch(y[x][3]){case"REFERRAL":t+=parseInt(y[x][6]);u+="<tr><td class='aiwp-pgdetailsl'>"+y[x][1]+"</td><td class='aiwp-pgdetailsr'>"+y[x][6]+"</td></tr>";break;case"ORGANIC":z+=parseInt(y[x][6]);A+="<tr><td class='aiwp-pgdetailsl'>"+y[x][2]+"</td><td class='aiwp-pgdetailsr'>"+y[x][6]+"</td></tr>";break;case"SOCIAL":q+=parseInt(y[x][6]);p+="<tr><td class='aiwp-pgdetailsl'>"+y[x][1]+"</td><td class='aiwp-pgdetailsr'>"+y[x][6]+"</td></tr>";break;case"CUSTOM":l+=parseInt(y[x][6]);k+="<tr><td class='aiwp-pgdetailsl'>"+y[x][1]+"</td><td class='aiwp-pgdetailsr'>"+y[x][6]+"</td></tr>";break;case"DIRECT":C+=parseInt(y[x][6]);break}}}if(t){u="<table><tr><td>"+e.i18n[0]+"("+t+")</td></tr>"+u+"</table><br />"}if(z){A="<table><tr><td>"+e.i18n[1]+"("+z+")</td></tr>"+A+"</table><br />"}if(q){p="<table><tr><td>"+e.i18n[2]+"("+q+")</td></tr>"+p+"</table><br />"}if(l){k="<table><tr><td>"+e.i18n[3]+"("+l+")</td></tr>"+k+"</table><br />"}if(C){B="<table><tr><td>"+e.i18n[4]+"("+C+")</td></tr></table><br />"}return("<p><center><strong>"+o+"</strong></center></p>"+u+A+p+k+B)},rtRefresh:function(){if(e.render.focusFlag){a.from=false;a.to=false;a.query="realtime";jQuery.post(aiwpItemData.ajaxurl,a,function(j){if(Array.isArray(j)){jQuery("#aiwp-reports"+b).show();e.realtime=j[0];e.drawRealtimeGA4(e.realtime)}else{e.throwDebug(j)}NProgress.done()})}},drawRealtimeGA4:function(p){var q,s,n,m,r=0,o=0,k=0,j=[],l=[];jQuery(function(){jQuery("#aiwp-widget *").tooltip({tooltipClass:"aiwp"})});if(d.isNumeric(p)||typeof p==="undefined"){p=[];p.totals="0";p.rows=[];p.category=[]}r=0;o=0;k=0;for(n=0;n<p.category.length;n++){j.push(p.category[n][0]);if(p.category[n][0]=="desktop"){r=r+parseInt(p.category[n][1])}if(p.category[n][0]=="mobile"){o=o+parseInt(p.category[n][1])}if(p.category[n][0]=="tablet"){k=k+parseInt(p.category[n][1])}}p.totals=r+o+k;if(parseInt(p.totals)!==parseInt(document.getElementById("aiwp-online-ga4").innerHTML)){jQuery("#aiwp-online-ga4").fadeOut("slow");jQuery("#aiwp-online-ga4").fadeOut(500);jQuery("#aiwp-online-ga4").fadeOut("slow",function(){if((parseInt(p.totals))<(parseInt(document.getElementById("aiwp-online-ga4").innerHTML))){jQuery("#aiwp-online-ga4").css({"background-color":"#FFE8E8"})}else{jQuery("#aiwp-online-ga4").css({"background-color":"#E0FFEC"})}document.getElementById("aiwp-online-ga4").innerHTML=p.totals});jQuery("#aiwp-online-ga4").fadeIn("slow");jQuery("#aiwp-online-ga4").fadeIn(500);jQuery("#aiwp-online-ga4").fadeIn("slow",function(){jQuery("#aiwp-online-ga4").css({"background-color":"#FFFFFF"})})}if(p.totals==0){p.rows=[]}for(n=0;n<p.rows.length;n++){l[n]={screenName:p.rows[n][0],count:p.rows[n][1]}}l.sort(function(u,t){return t.count-u.count});s="";for(n=0;n<l.length;n++){if(n<aiwpItemData.rtLimitPages){s+='<div class="aiwp-pline"><div class="aiwp-pleft">'+l[n].screenName.substring(0,70)+'</div><div class="aiwp-pright">'+l[n].count+"</div></div>"}}document.getElementById("aiwp-pages").innerHTML='<br /><div class="aiwp-pg">'+s+"</div>";q='<div class="aiwp-bigtext-ga4"><div class="aiwp-bleft-ga4"><span class="dashicons dashicons-desktop"></span> '+e.i18n[12]+'</div><div class="aiwp-bright-ga4">'+r+"</div></div>";q+='<div class="aiwp-bigtext-ga4"><div class="aiwp-bleft-ga4"><span class="dashicons dashicons-smartphone"></span> '+e.i18n[13]+'</div><div class="aiwp-bright-ga4">'+o+"</div></div>";q+='<div class="aiwp-bigtext-ga4"><div class="aiwp-bleft-ga4"><span class="dashicons dashicons-tablet"></span> '+e.i18n[14]+'</div><div class="aiwp-bright-ga4">'+k+"</div></div>";document.getElementById("aiwp-tdo-right-ga4").innerHTML=q},throwDebug:function(j){jQuery("#aiwp-status"+b).css({"margin-top":"3px","padding-left":"5px",height:"auto",color:"#000","border-left":"5px solid red"});if(j=="-24"){jQuery("#aiwp-status"+b).html(aiwpItemData.i18n[15])}else{jQuery("#aiwp-reports"+b).css({"background-color":"#F7F7F7",height:"auto","margin-top":"10px","padding-top":"50px","padding-bottom":"50px",color:"#000","text-align":"center"});jQuery("#aiwp-reports"+b).html(j);jQuery("#aiwp-reports"+b).show();jQuery("#aiwp-status"+b).html(aiwpItemData.i18n[11]);console.log("\n********************* AIWP Log ********************* \n\n"+j);if(j){a={action:"aiwp_set_error",response:j,aiwp_security_set_error:aiwpItemData.security};jQuery.post(aiwpItemData.ajaxurl,a)}}},throwError:function(l,j,k){jQuery(l).css({"background-color":"#F7F7F7",height:"auto","padding-top":k,"padding-bottom":k,color:"#000","text-align":"center"});if(j==621){jQuery(l).html('<p><span style="font-size:4em;color:#778899;margin-left:-20px;" class="dashicons dashicons-clock"></span></p><br><p style="font-size:1.1em;color:#778899;">'+aiwpItemData.i18n[13]+"</p>")}else{jQuery(l).html(aiwpItemData.i18n[12]+" "+j)}},render:function(j,o,n){var k,q,p,l,m;if(o=="realtime"){jQuery("#aiwp-sel-report"+b).hide()}else{jQuery("#aiwp-sel-report"+b).show();clearInterval(e.rtRuns)}jQuery("#aiwp-status"+b).html("");switch(o){case"today":q="today";p="today";break;case"yesterday":q="yesterday";p="yesterday";break;case"7daysAgo":q="7daysAgo";p="yesterday";break;case"14daysAgo":q="14daysAgo";p="yesterday";break;case"90daysAgo":q="90daysAgo";p="yesterday";break;case"365daysAgo":q="365daysAgo";p="yesterday";break;case"1095daysAgo":q="1095daysAgo";p="yesterday";break;default:q="30daysAgo";p="yesterday";break}d.setCookie("default_metric",n);d.setCookie("default_dimension",o);if(typeof j!=="undefined"){d.setCookie("default_view",j);k=j}else{k=false}if(aiwpItemData.scope=="admin-item"){a={action:"aiwp_backend_item_reports",aiwp_security_backend_item_reports:aiwpItemData.security,from:q,to:p,filter:g}}else{if(aiwpItemData.scope=="front-item"){a={action:"aiwp_frontend_item_reports",aiwp_security_frontend_item_reports:aiwpItemData.security,from:q,to:p,filter:aiwpItemData.filter}}else{a={action:"aiwp_backend_item_reports",aiwp_security_backend_item_reports:aiwpItemData.security,projectId:k,from:q,to:p}}}if(o=="realtime"){e.i18n=aiwpItemData.i18n.slice(20,36);e.render.focusFlag=1;jQuery("#aiwp-sel-metric"+b).hide();jQuery(window).on("focus",function(r){e.render.focusFlag=1}).on("blur",function(r){e.render.focusFlag=0});l='<div id="aiwp-realtime'+b+'">';l+='<div class="aiwp-rt-box">';l+='<div class="aiwp-rt-title">'+e.i18n[15]+"</div>";l+='<div class="aiwp-tdo-left-ga4">';l+='<div class="aiwp-online-ga4" id="aiwp-online-ga4">0</div>';l+="</div>";l+='<div class="aiwp-tdo-right-ga4" id="aiwp-tdo-right-ga4">';l+='<div class="aiwp-bigtext-ga4">';l+='<div class="aiwp-bleft-ga4"><span class="dashicons dashicons-desktop"></span> '+e.i18n[12]+"</div>";l+='<div class="aiwp-bright-ga4">0</div>';l+="</div>";l+='<div class="aiwp-bigtext-ga4">';l+='<div class="aiwp-bleft-ga4"><span class="dashicons dashicons-smartphone"></span> '+e.i18n[13]+"</div>";l+='<div class="aiwp-bright-ga4">0</div>';l+="</div>";l+='<div class="aiwp-bigtext-ga4">';l+='<div class="aiwp-bleft-ga4"><span class="dashicons dashicons-tablet"></span> '+e.i18n[14]+"</div>";l+='<div class="aiwp-bright-ga4">0</div>';l+="</div>";l+="</div>";l+="</div>";l+="<div>";l+='<div id="aiwp-pages" class="aiwp-pages">&nbsp;</div>';l+="</div>";l+="</div>";jQuery("#aiwp-reports"+b).html(l);e.rtRefresh(e.render.focusFlag);e.rtRuns=setInterval(e.rtRefresh,40000)}else{if(jQuery.inArray(n,["referrers","contentpages","searches"])>-1){a.query="channelGrouping,"+n;a.metric=c;jQuery.post(aiwpItemData.ajaxurl,a,function(r){e.orgChartTableChart(r)})}else{if(n=="404errors"){a.query=n;a.metric=c;jQuery.post(aiwpItemData.ajaxurl,a,function(r){e.tableChart(r)})}else{if(n=="trafficdetails"||n=="technologydetails"){if(n=="trafficdetails"){a.query="channelGrouping,medium,visitorType,source,socialNetwork";e.i18n=aiwpItemData.i18n.slice(0,5)}else{e.i18n=aiwpItemData.i18n.slice(15,20);a.query="deviceCategory,browser,operatingSystem,screenResolution,mobileDeviceBranding"}a.metric=c;jQuery.post(aiwpItemData.ajaxurl,a,function(r){e.orgChartPieCharts(r)})}else{if(n=="locations"){a.query=n;a.metric=c;jQuery.post(aiwpItemData.ajaxurl,a,function(r){e.geoChartTableChart(r)})}else{a.query=n+",bottomstats";jQuery.post(aiwpItemData.ajaxurl,a,function(r){e.areaChartBottomStats(r)})}}}}}},refresh:function(){if(jQuery("#aiwp-areachartbottomstats"+b).length>0&&Array.isArray(e.areaChartBottomStatsData)){e.areaChartBottomStats(e.areaChartBottomStatsData)}if(jQuery("#aiwp-orgchartpiecharts"+b).length>0&&Array.isArray(e.orgChartPieChartsData)){e.orgChartPieCharts(e.orgChartPieChartsData)}if(jQuery("#aiwp-geocharttablechart"+b).length>0&&Array.isArray(e.geoChartTableChartData)){e.geoChartTableChart(e.geoChartTableChartData)}if(jQuery("#aiwp-orgcharttablechart"+b).length>0&&Array.isArray(e.orgChartTableChartData)){e.orgChartTableChart(e.orgChartTableChartData)}if(jQuery("#aiwp-404tablechart"+b).length>0&&Array.isArray(e.tableChartData)){e.tableChart(e.tableChartData)}},init:function(){if(!e.inProgress){e.inProgress=1;try{NProgress.configure({parent:"#aiwp-progressbar"+b,showSpinner:false});NProgress.start()}catch(j){e.alertMessage(aiwpItemData.i18n[0])}e.render(jQuery("#aiwp-sel-view"+b).val(),jQuery("#aiwp-sel-period"+b).val(),jQuery("#aiwp-sel-report"+b).val());jQuery(window).on("resize",function(){var k=jQuery(window).width()-e.oldViewPort;if((k<-5)||(k>5)){e.oldViewPort=jQuery(window).width();e.refresh()}});e.inProgress=0}}};h.init();e.init();jQuery("#aiwp-sel-view"+b).on("change",function(){e.init()});jQuery("#aiwp-sel-period"+b).on("change",function(){e.init()});jQuery("#aiwp-sel-report"+b).on("change",function(){e.init()});jQuery("[id^=aiwp-swmetric-]").on("click",function(){c=this.id.replace("aiwp-swmetric-","");d.setCookie("default_swmetric",c);jQuery("#aiwp-swmetric-sessions").css("color","#444");jQuery("#aiwp-swmetric-users").css("color","#444");jQuery("#aiwp-swmetric-pageviews").css("color","#444");jQuery("#"+this.id).css("color","#008ec2");e.init()});if(aiwpItemData.scope=="admin-widgets"){return}else{return this.dialog({width:"auto",maxWidth:510,height:"auto",modal:true,fluid:true,dialogClass:"aiwp wp-dialog",resizable:false,title:e.getTitle(aiwpItemData.scope),position:{my:"top",at:"top+100",of:window}})}}});function AIWPReportLoad(){if(aiwpItemData.scope=="admin-widgets"){jQuery("#aiwp-window-1").aiwpItemReport(1)}else{if(aiwpItemData.scope=="front-item"){jQuery(aiwpItemData.getSelector(aiwpItemData.scope)).on("click",function(){if(!jQuery("#aiwp-window-1").length>0){jQuery("body").append('<div id="aiwp-window-1"></div>')}jQuery("#aiwp-window-1").aiwpItemReport(1)})}else{jQuery(aiwpItemData.getSelector(aiwpItemData.scope)).on("click",function(){if(!jQuery("#aiwp-window-"+aiwpItemData.getID(this)).length>0){jQuery("body").append('<div id="aiwp-window-'+aiwpItemData.getID(this)+'"></div>')}jQuery("#aiwp-window-"+aiwpItemData.getID(this)).aiwpItemReport(aiwpItemData.getID(this))})}}jQuery(window).on("resize",function(){aiwpItemData.responsiveDialog()});jQuery(document).on("dialogopen",".ui-dialog",function(a,b){aiwpItemData.responsiveDialog()})};